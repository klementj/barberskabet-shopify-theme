{% if section.settings.image != blank %}
  {% assign hero_image = section.settings.image %}
{% else %}
  {% assign hero_image = 'placeholder-svg' %}
{% endif %}

<div class="hero-image jumbotron-fluid lazyload d-flex justify-content-center mb-sm-0 pb-5"
  {% if section.settings.overlay_color != 'rgba(0,0,0,0)' %}
    data-bgprefix="linear-gradient({{ section.settings.overlay_color |
    color_modify: 'alpha', 0.8}}, {{ section.settings.overlay_color |
    color_modify: 'alpha', 0.5}}), "
  {% else %}
    data-bgprefix="linear-gradient({{ section.settings.overlay_color}}, {{
                      section.settings.overlay_color}}), "
  {% endif %}
  data-bgset="{% include 'responsive-bg-image', image: hero_image %}"
>
  
  
  <div class="container">
    <div class="flex-row">

      <!-- Logo wrapper -->
      <div role="banner" style="fill: white; stroke:white;">
        <h1 class="text-center mx-auto" style="max-width: 200px;">  
          <a href="/" class="logo-image" aria-label="Gå til forsiden">
            {% include 'icon-barberskabet' %}
          </a>
        </h1>
      </div>
  
      <!-- Call to action -->
      <div class="pt-1 pt-md-2 pt-lg-4 flex-row text-center align-self-center">
        <div class="col">
          {% if section.settings.title != blank %}
            <h1>{{ section.settings.title }}</h1>
          {% endif %}
          {% if section.settings.text != blank %}
            <p class="lead">{{ section.settings.text }}</p>
          {% endif %}
        </div>
        <div class="col mt-2 mt-md-3">
          {% if section.settings.button_label_1 != blank and
            section.settings.button_link_1 != blank %}
            <a class="btn btn-lg btn-light
            {% if section.settings.button_label_2 != blank and
              section.settings.button_link_2 != blank %} mr-3
             {% endif %}"
              href="{{ section.settings.button_link_1 }}">
              {{ section.settings.button_label_1 | escape }}
            </a>
          {% endif %}
          {% if section.settings.button_label_2 != blank and
            section.settings.button_link_2 != blank %}
            <a class="btn btn-lg" href="{{ section.settings.button_link_2 }}">
              {{ section.settings.button_label_2 | escape }}
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div> <!-- .container end -->
</div>

<!-- Floating call-to-action -->
{% if section.settings.show_call_to_action == true %}
  <div id="floating-cta" class="fixed-top" style="background-color: {{ section.settings.banner_bg }}; color: {{ section.settings.banner_color }}">
    <div class="container py-2">
      <div class="d-none d-flex justify-content-between align-items-center">

        <span class="mr-2" style="width: 25px; fill:white;">{% include 'icon-barberskabet-small' %}</span>

        {% if section.settings.title != blank %}
          <p class="text-right text-uppercase d-none d-md-block flex-fill mb-0 mr-2">{{ section.settings.title }}</p>
        {% endif %}

        {% if section.settings.button_label_1 != blank and
          section.settings.button_link_1 != blank %}
          <a class="btn btn-light
          {% if section.settings.button_label_2 != blank and
            section.settings.button_link_2 != blank %} mr-3
           {% endif %}"
            href="{{ section.settings.button_link_1 }}">
            {{ section.settings.button_label_1 | escape }}
          </a>
        {% endif %}

      </div>
    </div>
  </div>
{% endif %}

{% javascript %}
  $(window).scroll(function() {
    let cta = $('#floating-cta')
    if ( $(this).scrollTop() > 450 ) {
      cta.fadeIn();
    } else {
      cta.fadeOut();
    }
  })
{% endjavascript %}

{% stylesheet %}
  #floating-cta{
    display: none;
  }
{% endstylesheet %}

{% schema %}
  {
    "name": "Hero Banner Landingpage",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "color",
        "id": "overlay_color",
        "label": "Banner Color Overlay",
        "default": "#000000",
        "info": "This allows you to pick a color to overlay on the banner image"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Prøv vores revolutionerende grafentech boxershorts",
        "placeholder": "Prøv vores revolutionerende grafentech boxershorts"
      },
      {
        "type": "text",
        "id": "text",
        "label": "Text",
        "default": "Prøvepakke fra kun ​49 kr.",
        "placeholder": "Prøvepakke fra kun ​49 kr."
      },
      {
        "type": "text",
        "id": "button_label_1",
        "label": "Primary Button label",
        "default": "Bestil prøvepakke",
        "placeholder": "Bestil prøvepakke"
      },
      {
        "type": "url",
        "id": "button_link_1",
        "label": "Primary Button link",
        "default": "/collections"
      },
      {
        "type": "text",
        "id": "button_label_2",
        "label": "Secondary Button label"
      },
      {
        "type": "url",
        "id": "button_link_2",
        "label": "Secondary Button link"
      },
      {
        "type": "checkbox",
        "id": "show_call_to_action",
        "label": "Show floating call to action",
        "default": false
      },
      {
        "type": "color",
        "id": "banner_bg",
        "label": "CTA banner background",
        "default": "#00686c",
        "info": "Background color on floating call-to-action"
      },
      {
        "type": "color",
        "id": "banner_color",
        "label": "CTA banner text",
        "default": "#ffffff",
        "info": "Text color on floating call-to-action"
      }
    ],
    "presets": [
      {
        "name": "Hero Banner",
        "category": "Call to action"
      }
    ]
  }
{% endschema %}
